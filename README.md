# GISmarket

Решение команды
AddHueToSatur (1е место):
@wezemer
@Timmagg

1. Бинарная сегментация по двум каналам (sigmoid вместо softmax в семантической)
- модель: [TernausNet V2](https://github.com/ternaus/TernausNetV2) (set ABN -> InPlaceABN)
- loss: `(\alpha) bce + (1 - \alpha)(1 - jaccard)`, `\alpha == .5`
- таргеты: маски домов и границы, обработанные подходом с DSB18 (гипер-параметры изменены под данный датасет)

2. Обучение
- 1 фолд (9/1)
- 35 эпох с кропами 448х448 из уменьшенных вдвое снимков
- 20 эпох с кропами 672х672 из оригинальных снимков
- lr_scheduler — пилообразный (линейный при понижении)
- albumantations

3. Инференс
- TTA D4
- кропы 672х672 с шагом 336px, взвешенная сумма
- порог для зёрен `( seeds )` .8
- `seeds &= junctions < .8`
- порог для общей маски .3
- watershed `seeds` по общей маске
- фильтр объектов площадью < моды на гистограмме площадей
